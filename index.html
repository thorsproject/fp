<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<!---------- Debug-Option ----------> 
<script>
  window.addEventListener("error", (e) => {
    alert("JS ERROR:\n" + (e.message || e.error) + "\n" + (e.filename || "") + ":" + (e.lineno || ""));
  });
  window.addEventListener("unhandledrejection", (e) => {
    alert("PROMISE ERROR:\n" + (e.reason?.message || e.reason));
  });
</script>
<!---------- Debug-Option Ende----------> 

<!-- PWA -->
<link rel="manifest" href="manifest.json">

<meta name="theme-color" content="#1b1f24">

<!-- iOS Support -->
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Flight Planning">

<link rel="apple-touch-icon" href="icon-192.png">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<!-- Link zum CSS -->
<link rel="stylesheet" href="css/style.css?v=1">
<!-- Link zum Java Script -->
<script type="module" src="js/app.js?v=1"></script>

</head>
<body>

<header class="topbar">
  <div class"title">FLIGHT PLANNING V0.1</div>
  <!-- BUTTON TOPNAV -->
<div class="topnav">
  <button id="topbtn">MAP An/Aus</button>
  <button id="topbtn">FUEL Planning</button>
  <button id="topbtn">PERFORMANCE</button>
  <button id="topbtn">ORM Ã¶ffnen</button>
  <button id="topbtn">Mail EO senden</button>
</div>
</header>

<div class="main-container">
  <div class="left-panel">

    <!-- FRAME 1 -->
    <div class="frame">
      <div class="master-grid">

        <!-- Zeile 1 -->
        <div></div> <!-- Spalte 1 leer -->
        <div class="label">DATE</div> <!-- Spalte 2 -->
        <div><input type="text" id="dateInput" maxlength="8" placeholder="TT.MM.JJ"></div> <!-- Spalte 3 -->
        <div class="label aero-label">FDL</div> <!-- Spalte 4 -->
        <div><input type="text" id="FDLinput"></div> <!-- Spalte 5 -->
        <div></div> <!-- Spalte 6 leer -->

        <!-- Zeile 2 -->
        <div></div> <!-- Spalte 1 leer -->
        <div class="label">LFZ</div> <!-- Spalte 2 -->
        <div><select id="lfzSelect"></select></div> <!-- Spalte 3 -->
        <div class="label aero-label">TEL:</div> <!-- Spalte 4 -->
        <div><input type="text" id="TELinput"></div> <!-- Spalte 5 -->
        <div></div> <!-- Spalte 6 leer -->

        <!-- Zeile 3 -->
        <div></div> <!-- Spalte 1 leer -->
        <div class="label">CALL SIGN</div> <!-- Spalte 2 -->
        <div id="callSignDisplay" class="callSignDisplay"></div> <!-- Spalte 3: Anzeige CALL SIGN -->
        <div class="label aero-label">TAC-CS</div> <!-- Spalte 4 -->
        <div><select id="tacSelect"></select></div> <!-- Spalte 5 -->
        <div></div> <!-- Spalte 6 leer -->
      </div>
    </div>

    <!-- FRAME 2-5 - LEGS -->
    <div id="legsContainer">

      <!-- Leg 1 -->
      <div class="frame">
        <div class="master-grid">

        <!-- Zeile 1 -->
          <div class="label leg-title" style="grid-row:1/4;">LEG 1</div> <!-- Spalte 1 -->
          <div class="label">ETD</div> <!-- Spalte 2 -->
          <input type="text" class="time legField etd"> <!-- Spalte 3 -->
          <div class="label aero-label">AERODROME</div> <!-- Spalte 4 -->
          <input type="text" class="aero legField aeroFrom"> <!-- Spalte 5 -->
	  <div></div> <!-- Spalte 6 leer -->

        <!-- Zeile 2 -->
          <div class="label">ETA</div> <!-- Spalte 2 -->
          <input type="text" class="time legField eta"> <!-- Spalte 3 -->
          <div class="label aero-label">AERODROME</div> <!-- Spalte 4 -->
          <input type="text" class="aero legField aeroTo"> <!-- Spalte 5 -->
	  <div></div> <!-- Spalte 6 leer -->

        <!-- Zeile 3 -->
          <div class="label">ALTERNATE</div> <!-- Spalte 2 -->
	  <div></div> <!-- Spalte 3 leer -->
          <div class="label aero-label">AERODROME</div> <!-- Spalte 4 -->
          <input type="text" class="alt legField"> <!-- Spalte 5 -->
          <input type="text" class="alt legField col6"> <!-- Spalte 6 -->
        </div>
      </div>

      <!-- Leg 2 -->
      <div class="frame">
        <div class="master-grid">

        <!-- Zeile 1 -->
          <div class="label leg-title" style="grid-row:1/4;">LEG 2</div> <!-- Spalte 1 -->
          <div class="label">ETD</div> <!-- Spalte 2 -->
          <input type="text" class="time legField etd"> <!-- Spalte 3 -->
          <div class="label aero-label">AERODROME</div> <!-- Spalte 4 -->
          <input type="text" class="aero legField aeroFrom"> <!-- Spalte 5 -->
          <button class="legToggle col6" data-leg="2" data-state="active">ACTIVE</button> <!-- Spalte 6 -->

        <!-- Zeile 2 -->
          <div class="label">ETA</div> <!-- Spalte 2 -->
          <input type="text" class="time legField eta"> <!-- Spalte 3 -->
          <div class="label aero-label">AERODROME</div> <!-- Spalte 4 -->
          <input type="text" class="aero legField aeroTo"> <!-- Spalte 5 -->
	  <div></div> <!-- Spalte 6 leer -->

        <!-- Zeile 3 -->
          <div class="label">ALTERNATE</div> <!-- Spalte 2 -->
	  <div></div> <!-- Spalte 3 leer -->
          <div class="label aero-label">AERODROME</div> <!-- Spalte 4 -->
          <input type="text" class="alt legField"> <!-- Spalte 5 -->
          <input type="text" class="alt legField col6"> <!-- Spalte 6 -->
        </div>
      </div>

      <!-- Leg 3 -->
      <div class="frame">
        <div class="master-grid">

        <!-- Zeile 1 -->
          <div class="label leg-title" style="grid-row:1/4;">LEG 3</div> <!-- Spalte 1 -->
          <div class="label">ETD</div> <!-- Spalte 2 -->
          <input type="text" class="time legField etd"> <!-- Spalte 3 -->
          <div class="label aero-label">AERODROME</div> <!-- Spalte 4 -->
          <input type="text" class="aero legField aeroFrom"> <!-- Spalte 5 -->
          <button class="legToggle col6" data-leg="3" data-state="active">ACTIVE</button> <!-- Spalte 6 -->


        <!-- Zeile 2 -->
          <div class="label">ETA</div> <!-- Spalte 2 -->
          <input type="text" class="time legField eta"> <!-- Spalte 3 -->
          <div class="label aero-label">AERODROME</div> <!-- Spalte 4 -->
          <input type="text" class="aero legField aeroTo"> <!-- Spalte 5 -->
	  <div></div> <!-- Spalte 6 leer -->

        <!-- Zeile 3 -->
          <div class="label">ALTERNATE</div> <!-- Spalte 2 -->
	  <div></div> <!-- Spalte 3 leer -->
          <div class="label aero-label">AERODROME</div> <!-- Spalte 4 -->
          <input type="text" class="alt legField"> <!-- Spalte 5 -->
          <input type="text" class="alt legField col6"> <!-- Spalte 6 -->
        </div>
      </div>


      <!-- Leg 4 -->
      <div class="frame">
        <div class="master-grid">

        <!-- Zeile 1 -->
          <div class="label leg-title" style="grid-row:1/4;">LEG 4</div> <!-- Spalte 1 -->
          <div class="label">ETD</div> <!-- Spalte 2 -->
          <input type="text" class="time legField etd"> <!-- Spalte 3 -->
          <div class="label aero-label">AERODROME</div> <!-- Spalte 4 -->
          <input type="text" class="aero legField aeroFrom"> <!-- Spalte 5 -->
          <button class="legToggle col6" data-leg="4" data-state="active">ACTIVE</button> <!-- Spalte 6 -->


        <!-- Zeile 2 -->
          <div class="label">ETA</div> <!-- Spalte 2 -->
          <input type="text" class="time legField eta"> <!-- Spalte 3 -->
          <div class="label aero-label">AERODROME</div> <!-- Spalte 4 -->
          <input type="text" class="aero legField aeroTo"> <!-- Spalte 5 -->
	  <div></div> <!-- Spalte 6 leer -->

        <!-- Zeile 3 -->
          <div class="label">ALTERNATE</div> <!-- Spalte 2 -->
	  <div></div> <!-- Spalte 3 leer -->
          <div class="label aero-label">AERODROME</div> <!-- Spalte 4 -->
          <input type="text" class="alt legField"> <!-- Spalte 5 -->
          <input type="text" class="alt legField col6"> <!-- Spalte 6 -->
        </div>
      </div>

    <!-- BUTTON BOTTOM PANEL -->
    <div class="frame">
      <div class="button-BOTTOMpanel">
        <button id="resetETDETA">Reset ETD/ETA</button>
        <button id="resetAERO">Reset AERODROMES</button>
        <button id="toggleWind">Wind An/Aus</button>
        <button id="toggleWeather">Wetter-Layer An/Aus</button>
        <select id="windLevelSelect">
          <option value="SFC">SFC</option>
          <option value="25">FL025</option>
          <option value="50">FL050</option>
          <option value="100">FL100</option>
          <option value="180">FL180</option>
        </select>
      </div>
    </div>
  </div>

  <datalist id="airfieldsList"></datalist>
  <datalist id="alternatesList"></datalist>

  <!-- MAP -->
  <div class="map-frame" id="map"></div>
</div>

</body>
</html>
